{%- style -%}
  .field__label {
    color: #004289;
    font-weight: bold;
    letter-spacing: 0;
  }

  .search__input {
    background-color: #f5f6f4;
  }

  .field__input:focus {
    box-shadow: unset;
  }

  .field {
    box-shadow: unset;
  }

  .field:after {
    box-shadow: unset;
  }

  .field:hover.field:after {
    outline: 0;
    box-shadow: unset;
  }

  @media screen and (max-width: 749px) {
    .field__label {
      font-size: 9px;
    }
  }
{%- endstyle -%}

{%- if settings.predictive_search_enabled -%}
  <predictive-search class="search-modal__form" data-loading-text="{{ 'accessibility.loading' | t }}">
{%- else -%}
  <search-form class="search-modal__form">
{%- endif -%}
<form action="{{ routes.search_url }}" method="get" role="search" class="search search-modal__form">
  <div class="field">
    <input
      class="search__input field__input"
      id="{{ input_id }}"
      type="search"
      name="q"
      value="{{ search.terms | escape }}"
      placeholder="{{ 'general.search.search' | t }}"
      {%- if settings.predictive_search_enabled -%}
        role="combobox"
        aria-expanded="false"
        aria-owns="predictive-search-results"
        aria-controls="predictive-search-results"
        aria-haspopup="listbox"
        aria-autocomplete="list"
        autocorrect="off"
        autocomplete="off"
        autocapitalize="off"
        spellcheck="false"
      {%- endif -%}
    >
    <label class="field__label" for="{{ input_id }}">{{ 'general.search.search' | t }}</label>
    <input type="hidden" name="options[prefix]" value="last">
    <button
      type="reset"
      class="reset__button field__button{% if search.terms == blank %} hidden{% endif %}"
      aria-label="{{ 'general.search.reset' | t }}"
    >
      <svg class="icon icon-close" aria-hidden="true" focusable="false">
        <use xlink:href="#icon-reset">
      </svg>
    </button>
    <button class="search__button field__button" aria-label="{{ 'general.search.search' | t }}">
      <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M14.7509 13.5814L12.0591 10.9093C14.1609 8.21842 13.9398 4.3861 11.5239 1.97163C10.2519 0.700382 8.55475 0 6.7484 0C4.94115 0 3.24484 0.700419 1.97287 1.97163C0.700821 3.24288 0 4.93894 0 6.74417C0 8.55028 0.700858 10.2455 1.97287 11.5167C3.24492 12.788 4.94204 13.4883 6.7484 13.4883C8.24231 13.4883 9.71756 12.9909 10.8973 12.0508L13.5711 14.7603C13.7368 14.9259 13.9399 15 14.161 15C14.3822 15 14.5853 14.9079 14.751 14.7603C15.083 14.4472 15.083 13.913 14.751 13.5812L14.7509 13.5814ZM11.838 6.74417C11.838 8.10756 11.3035 9.37959 10.3441 10.3377C9.38537 11.2958 8.09463 11.8306 6.74834 11.8306C5.40205 11.8306 4.11127 11.2965 3.15259 10.3377C2.19387 9.37955 1.65867 8.08961 1.65867 6.74417C1.65867 5.38078 2.19313 4.10875 3.15259 3.15067C4.11131 2.19255 5.40205 1.65769 6.74834 1.65769C8.11259 1.65769 9.38541 2.19181 10.3441 3.15067C11.3028 4.10951 11.838 5.38085 11.838 6.74417Z" fill="#004289"/>
      </svg>
    </button>
  </div>

  {%- if settings.predictive_search_enabled -%}
    <div class="predictive-search predictive-search--header" tabindex="-1" data-predictive-search>
      {%- render 'loading-spinner', class: 'predictive-search__loading-state' -%}
    </div>

    <span class="predictive-search-status visually-hidden" role="status" aria-hidden="true"></span>
  {%- endif -%}
</form>
{%- if settings.predictive_search_enabled -%}
  </predictive-search>
{%- else -%}
  </search-form>
{%- endif -%}
